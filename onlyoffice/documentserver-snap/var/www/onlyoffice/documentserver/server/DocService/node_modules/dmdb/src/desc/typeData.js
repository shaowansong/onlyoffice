"use strict";

Object.defineProperty(exports, "__esModule", {
    value: !0
});

var typeDescriptor_1 = require("./typeDescriptor"), bufferUtil_1 = require("../utils/bufferUtil"), const_1 = require("./const"), error_1 = require("../driver/error"), TypeData = function() {
    function r() {}
    return r.objBlobToBuffer = function(r, e) {
        var t = 0, i = bufferUtil_1.BufferUtil.t(r, 0);
        if (t += const_1.Const.ULINT_SIZE, typeDescriptor_1.TypeDescriptor.OBJ_BLOB_MAGIC != i) throw error_1.DBError.ECJS_INVALID_OBJ_BLOB();
        var o = bufferUtil_1.BufferUtil.t(r, t);
        if (t += const_1.Const.ULINT_SIZE, !bufferUtil_1.BufferUtil.p(r, t, o).equals(e.getClassDescChkInfo())) throw error_1.DBError.ECJS_INVALID_OBJ_BLOB();
        t += o;
        var u = Buffer.alloc(r.length - t);
        return r.copy(u, 0, t, t + u.length), u;
    }, r;
}();

exports.TypeData = TypeData;